{
    "name": "cluster_config",
    "version": "2",
    "debug": 0,
    "memlim_key": "24K",
    "memory_limits": [
        { "12K": {
	    "aggregate_list":2000,
	    "assoc_aggregate":16000,
	    "assoc_combine":6000,
	    "assoc_plots":24000,
	    "assoc_report":2000,
	    "assoc_single":8000,
	    "assoc_window":20000,
	    "cleanup":1000,
	    "combine_variants":8000,
	    "find_unrelated":8000,
	    "grm":40000,
	    "grm_combine":4000,
	    "ibd_king":8000,
	    "kinship_plots":8000,
	    "ld_pruning":12000,
	    "null_model":32000,
	    "pca_byrel":8000,
	    "pca_corr":8000,
	    "pca_corr_plots":32000,
	    "pca_plots":2000,
	    "pcrelate":8000
            }
        },
        { "24K": {
	    "aggregate_list":2000,
	    "assoc_aggregate":16000,
	    "assoc_combine":6000,
	    "assoc_plots":24000,
	    "assoc_report":2000,
	    "assoc_single":8000,
	    "assoc_window":20000,
	    "cleanup":1000,
	    "combine_variants":8000,
	    "find_unrelated":8000,
	    "grm":40000,
	    "grm_combine":4000,
	    "ibd_king":8000,
	    "kinship_plots":8000,
	    "ld_pruning":12000,
	    "null_model":48000,
	    "pca_byrel":8000,
	    "pca_corr":8000,
	    "pca_corr_plots":32000,
	    "pca_plots":2000,
	    "pcrelate":8000
            }
        }
    ],
    "cluster_types": {
        "AWS_Batch": {
            "aws_region": "us-west-2",
            "pipeline_path": "/usr/local/analysis_pipeline",
            "queue": "SPOT_topmed_nfs",
            "maxperf": 1,
            "job_parameters": {
                "wd" : "",
                "rd" : "tbd",
                "ra" : "tbd",
                "lf" : "runrscript.log",
                "bm" : "1",
                "tmo": "60",
                "db" : "1",
                "po" : "0",
                "at" : "0",
                "mc" : "not used",
                "tf" : "1"
            },
            "submit_opts": {
                "jobdef": "TM_master",
                "vcpus":  1,
                "memory": 5000,
                "region": "us-west-2",
                "dependsOn": [],
                "command": []
            },
            "retryStrategy": {
                "attempts": 2
            },
            "sync_job": {
                "parameters": {
                    "msg": "Dependent jobs completed\n",
                    "jids": ""
                },
                "submit_opts": {
                    "jobdef": "TM_sync",
                    "dependsOn": []
                }
            },
            "run_cmd": {
            }
        },
        "UW_Cluster": {
            "submit_cmd": "qsub",
            "submit_opts": {
                "-cwd":"",
                "-N":"",
                "-j":"y",
                "-q":"topmed.q",
                "-S":"/bin/bash",
                "-terse":"",
                "-v":"R_LIBS=/projects/topmed/working_code/analysis_pipeline_genesis2/R_library:/projects/resources/gactools/R_packages/library,PATH=/projects/resources/software/apps/bin:$PATH"
            },
            "parallel_env": "local"
        },
        "AWS_Cluster": {
            "submit_cmd": "qsub",
            "submit_opts": {
                "-cwd":"",
                "-N":"",
                "-j":"y",
                "-q":"all.q",
                "-S":"/bin/bash",
                "-terse":"",
                "-v":"R_LIBS=/projects/resources/gactools/R_packages/library,PATH=/projects/resources/software/apps/bin:$PATH"
            },
            "parallel_env": "local"
        }
    }
}
